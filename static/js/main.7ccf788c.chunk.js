(this.webpackJsonptomatillos=this.webpackJsonptomatillos||[]).push([[0],{26:function(e,t,r){},27:function(e,t,r){},28:function(e,t,r){},37:function(e,t,r){},38:function(e,t,r){},39:function(e,t,r){},40:function(e,t,r){},41:function(e,t,r){},42:function(e,t,r){},43:function(e,t,r){},44:function(e,t,r){},45:function(e,t,r){"use strict";r.r(t);var a=r(1),c=r(0),n=r(19),s=r.n(n),i=(r(26),r(9)),o=r(10),l=r(12),j=r(11),u=(r(27),function(){return Object(a.jsx)("header",{className:"header",children:Object(a.jsx)("h1",{className:"title",children:"Rancid Tomatillos"})})}),h=r(7),d=(r(28),function(e){var t=e.poster_path,r=e.title,c=(e.average_rating,e.id),n=r.replaceAll(/[^a-zA-Z0-9]/g,"").replaceAll(" ","");return Object(a.jsx)("article",{className:"mini-movie",children:Object(a.jsxs)(h.b,{to:"/".concat(n,"/").concat(c),className:"movie-wrapper",children:[Object(a.jsx)("img",{src:"".concat(t),className:"movie-poster",alt:"".concat(r)}),Object(a.jsx)("h2",{className:"movie-title",children:r})]})})}),b=(r(37),function(){return Object(a.jsxs)("div",{className:"error-wrapper",children:[Object(a.jsx)("h2",{className:"error-msg",children:"Sorry, something went wrong!"}),Object(a.jsx)("h3",{children:"Please try again later!"})]})}),m=r(14),v=(r(38),function(){return Object(a.jsx)("div",{className:"details-wrapper",children:Object(a.jsx)(m.a,{className:"loader",viewBox:"0 0 400 280",backgroundColor:"#737373",foregroundColor:"#ababab",children:Object(a.jsx)("rect",{x:"0",y:"20",rx:"1",ry:"1",width:"400",height:"220"})})})}),x=(r(39),function(e){var t=e.movie,r=function(e){return e.toLocaleString("en",{style:"currency",currency:"USD",maximumFractionDigits:0})},c=r(t.budget),n=r(t.revenue);return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:"details-wrapper",style:{backgroundImage:"url(".concat(t.backdrop_path,")")}}),Object(a.jsxs)("div",{className:"details-modal",children:[Object(a.jsx)("img",{className:"details-poster",src:"".concat(t.poster_path),alt:"The poster for ".concat(t.title)}),Object(a.jsxs)("section",{className:"details-info",children:[Object(a.jsx)("h2",{className:"details-title",children:t.title}),Object(a.jsx)("p",{className:"details-release-date",children:t.release_date.slice(0,4)}),Object(a.jsx)("p",{className:"details-overview__heading",children:"Overview"}),Object(a.jsx)("p",{className:"details-overview",children:t.overview}),Object(a.jsx)("p",{className:"details-genre__heading",children:"Genres"}),Object(a.jsx)("p",{className:"details-genre",children:t.genres.join(", ")}),Object(a.jsxs)("div",{className:"details-bottom",children:[Object(a.jsxs)("div",{className:"details-trivia-wrapper",children:[Object(a.jsx)("p",{className:"details-trivia__heading",children:"Trivia"}),0!==t.budget&&Object(a.jsxs)("p",{className:"details-trivia-fact",children:["Budget: ",c]}),0!==t.revenue&&Object(a.jsxs)("p",{className:"details-trivia-fact",children:["Revenue: ",n]}),Object(a.jsxs)("p",{className:"details-trivia-fact",children:["Runtime: ",t.runtime," mins"]})]}),Object(a.jsx)("div",{className:"details-rating-wrapper",children:Object(a.jsx)("p",{className:"details-rating",children:t.average_rating.toFixed(1)})})]}),Object(a.jsx)(h.b,{to:"/",children:"Back to Movies"})]})]})]})}),O=(r(40),function(e){return fetch(e).then((function(e){return e.json()}))}),p=function(e){Object(l.a)(r,e);var t=Object(j.a)(r);function r(){var e;return Object(i.a)(this,r),(e=t.call(this)).render=function(){return e.state.error?Object(a.jsxs)("div",{className:"error-box",children:[Object(a.jsx)(b,{}),Object(a.jsx)(h.b,{className:"back-button",to:"/",children:"Back to Movies"})]}):e.state.movie?Object(a.jsx)(x,{movie:e.state.movie}):Object(a.jsx)(v,{})},e.state={movie:null,error:!1},e}return Object(o.a)(r,[{key:"componentDidMount",value:function(){var e=this;O("https://rancid-tomatillos.herokuapp.com/api/v2/movies/".concat(this.props.currentMovie)).then((function(t){e.setState({movie:t.movie})})).catch((function(t){return e.setState({error:!0})}))}}]),r}(c.Component),f=(r(41),function(){return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)("div",{className:"loader-wrapper",children:Object(a.jsxs)(m.a,{className:"loader",viewBox:"0 0 100 200",backgroundColor:"#737373",foregroundColor:"#ababab",children:[Object(a.jsx)("rect",{x:"5",y:"0",rx:"1",ry:"1",width:"90",height:"140"}),Object(a.jsx)("rect",{x:"25",y:"150",rx:"1",ry:"1",width:"50",height:"10"})]})})})}),g=(r(42),function(e){Object(l.a)(r,e);var t=Object(j.a)(r);function r(e){var a;return Object(i.a)(this,r),(a=t.call(this,e)).handleChange=function(e){a.setState({searchTerm:e.target.value},(function(){a.props.updateSearch(a.state.searchTerm)}))},a.state={searchTerm:e.search},a}return Object(o.a)(r,[{key:"render",value:function(){var e=this;return Object(a.jsx)("input",{className:"search-bar",placeholder:"Search by Title",value:this.state.searchTerm,onChange:function(t){return e.handleChange(t)}})}}]),r}(c.Component)),N=(r(43),function(){return Object(a.jsx)("h2",{className:"no-results",children:"There are no movies matching this search"})}),w=(r(44),function(e){if(e.error)return Object(a.jsx)(b,{});if(e.currentMovie)return Object(a.jsx)(p,{currentMovie:e.currentMovie});var t=(e.search?e.movies.filter((function(t){return t.title.toLowerCase().includes(e.search.toLowerCase())})):e.movies).map((function(e,t){return Object(a.jsx)(d,{id:e.id,poster_path:e.poster_path,title:e.title,average_rating:e.average_rating},t)})),r=[Object(a.jsx)(f,{},0),Object(a.jsx)(f,{},1),Object(a.jsx)(f,{},2),Object(a.jsx)(f,{},4)],c=t.length?t:Object(a.jsx)(N,{}),n=e.movies.length?c:r;return Object(a.jsxs)("main",{children:[Object(a.jsx)(g,{search:e.search,updateSearch:e.updateSearch}),Object(a.jsx)("section",{className:"movie-grid",children:n})]})}),y=r(2),S=function(e){Object(l.a)(r,e);var t=Object(j.a)(r);function r(){var e;return Object(i.a)(this,r),(e=t.call(this)).updateSearch=function(t){e.setState({search:t})},e.componentDidMount=function(){O("https://rancid-tomatillos.herokuapp.com/api/v2/movies").then((function(t){return setTimeout((function(){return e.setState({movies:t.movies})}),1500)})).catch((function(t){return e.setState({error:!0})}))},e.state={movies:[],error:!1,search:""},e}return Object(o.a)(r,[{key:"render",value:function(){var e=this;return Object(a.jsxs)("div",{children:[Object(a.jsx)(u,{}),Object(a.jsx)(y.a,{path:"/",render:function(){return Object(a.jsx)(w,{updateSearch:e.updateSearch,search:e.state.search,movies:e.state.movies,error:e.state.error})},exact:!0}),Object(a.jsx)(y.a,{path:"/:title/:id",render:function(e){var t=e.match;return Object(a.jsx)(w,{currentMovie:t.params.id})},exact:!0})]})}}]),r}(c.Component),_=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,46)).then((function(t){var r=t.getCLS,a=t.getFID,c=t.getFCP,n=t.getLCP,s=t.getTTFB;r(e),a(e),c(e),n(e),s(e)}))};s.a.render(Object(a.jsx)(h.a,{children:Object(a.jsx)(S,{})}),document.getElementById("root")),_()}},[[45,1,2]]]);
//# sourceMappingURL=main.7ccf788c.chunk.js.map